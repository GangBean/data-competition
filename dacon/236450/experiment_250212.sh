#!/bin/bash

# 전체 Feature 리스트 (사용자가 제공한 리스트 그대로 사용)
all_features=(
    "연간 소득"
    "체납 세금 압류 횟수"
    "신용 거래 연수"
    "최대 신용한도"
    "현재 대출 잔액"
    "현재 미상환 신용액"
    "월 상환 부채액"
    "자산"
    "대출 이자율"
    "대출 비율"
    "신용 비율"
    "주거 형태 채무 불이행률"
    "대출 목적 채무 불이행률"
    "대출 상환 기간 채무 불이행률"
    "DTI"
    "LTV"
    "로그 신용 점수"
    "신용 문제율"
    "부채 대비 신용 점수"
    "총 부채 비율"
    "월 소득 대비 부채 비율"
    "신용-부채 변화율"
    "근속 연수 대비 소득"
    "연체 발생 빈도"
    "최근 연체 위험 지표"
    "금융 위험 지수"
    "상환 속도"
    "자산 부족 정도"
    "재정 스트레스 지표"
    "단기 부채 위험"
    "과거 신용 위험 지표"
    "잔액 대비 상환 속도"
    "부채 증가 위험"
    "대출 목적_부채 부담"
    "신용 위험"
    "자산2"
    "자산3"
    "자산4"
    "월 소득 대비 대출 상환액 비율"
    "최대 신용한도 대비 사용 비율"
    "대출 금액 대비 연체 위험"
    "신용 점수 변화율"
    "신용 위험 가중치"
    "부채 비율 변화율"
    "LTV 변화율"
    "신용 한도 대비 신용 사용률 변화"
    "최근 연체율"
    "신용 한도 대비 부채 부담"
    "월 저축 가능액"
    "연체 빈도 가중치"
    "연체 심각도 지수"
    "연체 후 회복력"
    "개설된 신용계좌 수"
    "신용 문제 발생 횟수"
    "마지막 연체 이후 경과 개월 수"
    "개인 파산 횟수"
    "신용 점수"
    "대출 목적_고위험"
    "근속 연수"
    "장기 근속 여부"
    "최근 연체 있음"
    "파산 경험 여부"
    "주거 형태"
    "대출 목적"
    "대출 상환 기간"
    "현재 직장 근속 연수"
)

# 기본 실행 커맨드
BASE_COMMAND="./run.sh --wandb"

# 모든 feature를 하나씩 제외하면서 실행
for feature in "${all_features[@]}"; do
    feature=$(echo "$feature" | xargs)  # 공백 제거
    DESC="[기본통계]Feature 제외 - ${feature}"
    
    echo "실행 중: ${DESC}..."
    
    # 실제 실행 커맨드
    $BASE_COMMAND --desc "${DESC}" --exclude "${feature}"
    
    echo "완료: ${DESC}"
    echo "--------------------------------"
done
